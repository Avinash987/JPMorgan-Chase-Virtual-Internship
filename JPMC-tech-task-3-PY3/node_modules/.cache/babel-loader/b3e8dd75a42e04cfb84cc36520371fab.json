{"ast":null,"code":"import _classCallCheck from \"/home/avinash/workspace/JPMorgna-Chase-Virtual-Internship/JPMC-tech-task-3-PY3/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/avinash/workspace/JPMorgna-Chase-Virtual-Internship/JPMC-tech-task-3-PY3/node_modules/@babel/runtime/helpers/esm/createClass\";\nexport var DataManipulator =\n/*#__PURE__*/\nfunction () {\n  function DataManipulator() {\n    _classCallCheck(this, DataManipulator);\n  }\n\n  _createClass(DataManipulator, null, [{\n    key: \"generateRow\",\n    value: function generateRow(serverResponds) {\n      var priceABC = (serverResponds[0].top_ask.price + serverResponds[0].top_bid.price) / 2;\n      var priceDEF = (serverResponds[1].top_ask.price + serverResponds[1].top_bid.price) / 2;\n      var ratio = priceABC / priceDEF;\n      var upper_bound = 1 + 0.07;\n      var lower_bound = 1 - 0.07;\n      return {\n        price_abc: priceABC,\n        price_def: priceDEF,\n        ratio: ratio,\n        timestamp: serverResponds[0].timestamp > serverResponds[1].timestamp ? serverResponds[0].timestamp : serverResponds[1].timestamp,\n        upper_bound: upper_bound,\n        lower_bound: lower_bound,\n        trigger_alert: ratio > upper_bound || ratio < lower_bound ? ratio : undefined\n      };\n    }\n  }]);\n\n  return DataManipulator;\n}();","map":{"version":3,"sources":["/home/avinash/workspace/JPMorgna-Chase-Virtual-Internship/JPMC-tech-task-3-PY3/src/DataManipulator.ts"],"names":["DataManipulator","serverResponds","priceABC","top_ask","price","top_bid","priceDEF","ratio","upper_bound","lower_bound","price_abc","price_def","timestamp","trigger_alert","undefined"],"mappings":";;AAaA,WAAaA,eAAb;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,gCACqBC,cADrB,EAC2D;AACvD,UAAMC,QAAQ,GAAG,CAACD,cAAc,CAAC,CAAD,CAAd,CAAkBE,OAAlB,CAA0BC,KAA1B,GAAkCH,cAAc,CAAC,CAAD,CAAd,CAAkBI,OAAlB,CAA0BD,KAA7D,IAAoE,CAArF;AACA,UAAME,QAAQ,GAAG,CAACL,cAAc,CAAC,CAAD,CAAd,CAAkBE,OAAlB,CAA0BC,KAA1B,GAAkCH,cAAc,CAAC,CAAD,CAAd,CAAkBI,OAAlB,CAA0BD,KAA7D,IAAoE,CAArF;AACA,UAAMG,KAAK,GAAGL,QAAQ,GAAGI,QAAzB;AACA,UAAME,WAAW,GAAG,IAAI,IAAxB;AACA,UAAMC,WAAW,GAAG,IAAI,IAAxB;AACA,aAAO;AACLC,QAAAA,SAAS,EAAER,QADN;AAELS,QAAAA,SAAS,EAAEL,QAFN;AAGLC,QAAAA,KAAK,EAALA,KAHK;AAILK,QAAAA,SAAS,EAAEX,cAAc,CAAC,CAAD,CAAd,CAAkBW,SAAlB,GAA8BX,cAAc,CAAC,CAAD,CAAd,CAAkBW,SAAhD,GACCX,cAAc,CAAC,CAAD,CAAd,CAAkBW,SADnB,GAC+BX,cAAc,CAAC,CAAD,CAAd,CAAkBW,SALvD;AAMLJ,QAAAA,WAAW,EAAEA,WANR;AAOLC,QAAAA,WAAW,EAAEA,WAPR;AAQLI,QAAAA,aAAa,EAAGN,KAAK,GAAGC,WAAR,IAAuBD,KAAK,GAAGE,WAAhC,GAAgDF,KAAhD,GAAwDO;AARlE,OAAP;AAWD;AAlBH;;AAAA;AAAA","sourcesContent":["import { ServerRespond } from './DataStreamer';\n\nexport interface Row {\n  price_abc: number,\n  price_def: number,\n  ratio: number,\n  timestamp: Date,\n  upper_bound: number,\n  lower_bound: number,\n  trigger_alert: number | undefined,\n}\n\n\nexport class DataManipulator {\n  static generateRow(serverResponds: ServerRespond[]): Row {\n    const priceABC = (serverResponds[0].top_ask.price + serverResponds[0].top_bid.price)/2;\n    const priceDEF = (serverResponds[1].top_ask.price + serverResponds[1].top_bid.price)/2;\n    const ratio = priceABC / priceDEF;\n    const upper_bound = 1 + 0.07;\n    const lower_bound = 1 - 0.07;\n    return {\n      price_abc: priceABC,\n      price_def: priceDEF,\n      ratio,\n      timestamp: serverResponds[0].timestamp > serverResponds[1].timestamp ?\n                  serverResponds[0].timestamp : serverResponds[1].timestamp,\n      upper_bound: upper_bound,\n      lower_bound: lower_bound,\n      trigger_alert: (ratio > upper_bound || ratio < lower_bound ) ? ratio : undefined,\n\n      };\n  }\n}\n"]},"metadata":{},"sourceType":"module"}